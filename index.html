<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Stopwatch & Countdown</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
  <script src="script.js" defer></script>
</head>
<body class="dark stopwatch-mode">
  <!-- Top Bar -->
  <div class="top-bar"><!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Stopwatch & Countdown</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
  <script src="script.js" defer></script>
</head>
<body class="dark stopwatch-mode">
  <!-- 🌐 Top Bar -->
  <div class="top-bar">
    <button id="muteToggle" onclick="toggleMute()" aria-label="Toggle Sound">🔊</button>
    <div class="right-controls">
      <button id="toggleTheme" onclick="toggleTheme()" class="theme-btn" aria-label="Toggle Theme">🌙</button>
      <button id="modeToggle" onclick="toggleMode()" class="pill-btn" aria-label="Switch Mode">Switch to Countdown</button>
    </div>
  </div>

  <!-- ⏱ Main Container -->
  <div class="container">

    <!-- 🕰 Analog Clock -->
    <canvas id="analogClock" width="120" height="120" aria-label="Analog Clock"></canvas>
    <div id="realTimeClock" aria-live="polite"></div>

    <!-- 🧮 Timer Display -->
    <div class="timer-Display" id="timeDisplay">00 : 00 : 00 : 00</div>

    <!-- 🔘 Circular Progress -->
    <svg class="progress-ring" id="progressRing" width="160" height="120" style="display: none;">
      <circle class="ring-bg" r="60" cx="70" cy="70"></circle>
      <circle class="ring" r="60" cx="70" cy="70"></circle>
    </svg>

    <!-- ⌛ Countdown Setup -->
    <div class="alarm-box" id="countdownBox" style="display: none;">
      <h3>⏳ Set Countdown Time</h3>
      <div class="manual-inputs">
        <input type="number" id="inputH" placeholder="HH" min="0" max="99" aria-label="Hours">
        <input type="number" id="inputM" placeholder="MM" min="0" max="59" aria-label="Minutes">
        <input type="number" id="inputS" placeholder="SS" min="0" max="59" aria-label="Seconds">
      </div>
      <button onclick="setCountdown()">Set Countdown</button>
    </div>

    <!-- 📋 Lap History -->
    <ul class="laps" id="lapList"></ul>

    <!-- 🎮 Controls -->
    <div class="buttons">
      <button id="startTimer" onclick="start()">Start</button>
      <button id="pauseTimer" onclick="pause()">Pause</button>
      <button id="resetTime" onclick="reset()">Reset</button>
      <button id="restartTimer" onclick="restart()">Restart</button>
      <button id="lap" onclick="lap()">Lap</button>
      <button id="resetLap" onclick="resetLap()">Reset Laps</button>
      <button onclick="exportLaps()">📄 Export Laps</button>
      <button id="stopAlarmBtn" onclick="stopAlarm()" style="display:none;">🔕 Stop Alarm</button>
      <button id="snoozeBtn" onclick="snoozeAlarm()" style="display:none;">😴 Snooze 5s</button>
    </div>

    <!-- 🔄 Loader + ✅ Toast -->
    <div id="loader" class="loader-overlay" style="display: none;">
      <div class="spinner"></div>
    </div>
    <div id="toast" class="toast" role="status" aria-live="polite"></div>

  </div>
</body>
</html>

    <button id="muteToggle" onclick="toggleMute()">🔊</button>
    <div class="right-controls">
      <button id="toggleTheme" onclick="toggleTheme()" class="theme-btn">🌙</button>
      <button id="modeToggle" onclick="toggleMode()" class="pill-btn">Switch to Countdown</button>
    </div>
  </div>

  <div class="container">
    <!-- Analog Clock -->
    <canvas id="analogClock" width="120" height="120"></canvas>
    <div id="realTimeClock"></div>

    <!-- Timer Display -->
    <div class="timer-Display">00 : 00 : 00 : 00</div>

    <!-- Progress Ring -->
    <svg class="progress-ring" id="progressRing" width="160" height="120" style="display: none;">
      <circle class="ring-bg" r="60" cx="70" cy="70"></circle>
      <circle class="ring" r="60" cx="70" cy="70"></circle>
    </svg>

    <!-- Countdown Input -->
    <div class="alarm-box" style="display: none;">
      <h3>⏳ Set Countdown Time</h3>
      <div class="manual-inputs">
        <input type="number" id="inputH" placeholder="HH" min="0" max="99">
        <input type="number" id="inputM" placeholder="MM" min="0" max="59">
        <input type="number" id="inputS" placeholder="SS" min="0" max="59">
      </div>
      <button onclick="setCountdown()">Set Countdown</button>
    </div>

    <!-- Laps -->
    <ul class="laps"></ul>

    <!-- Buttons -->
    <div class="buttons">
      <button id="startTimer" onclick="start()">Start</button>
      <button id="pauseTimer" onclick="pause()">Pause</button>
      <button id="resetTime" onclick="reset()">Reset</button>
      <button id="restartTimer" onclick="restart()">Restart</button>
      <button id="lap" onclick="lap()">Lap</button>
      <button id="resetLap" onclick="resetLap()">Reset Laps</button>
      <button onclick="exportLaps()">📄 Export Laps</button>
      <button id="stopAlarmBtn" onclick="stopAlarm()" style="display:none;">🔕 Stop Alarm</button>
      <button id="snoozeBtn" onclick="snoozeAlarm()" style="display:none;">😴 Snooze 5s</button>
    </div>

    <!-- Loader + Toast -->
    <div id="loader" class="loader-overlay"><div class="spinner"></div></div>
    <div id="toast" class="toast"></div>
  </div>
</body>
</html>
